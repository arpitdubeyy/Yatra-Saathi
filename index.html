<!DOCTYPE html>
<!-- saved from url=(0041)file:///D:/Idea%20Lab/Yatra%20Saathi.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yatra Saathi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            min-height: 100vh;
            background: linear-gradient(to bottom right, #222223, #222223, #222223);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            background: #323131;
            padding: 8px;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow-x: auto;
        }

        .nav-tab {
            flex: 1;
            padding: 12px 20px;
            background: transparent;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            color: #95979d;
            white-space: nowrap;
        }

        .nav-tab.active {
            background: linear-gradient(to right, #222121, #222121, #222121);
            color: white;
        }

        .nav-tab:hover:not(.active) {
            background: #f3f4f6;
        }

        /* Pages */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Card Styles */
        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            padding: 32px;
            margin-bottom: 24px;
        }

        .header-gradient {
            background: linear-gradient(to right, #323131, #323131, #323131);
            padding: 32px;
            border-radius: 16px;
            color: white;
            text-align: center;
            margin-bottom: 32px;
        }

        .header-gradient h1 {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .header-gradient p {
            font-size: 16px;
            opacity: 0.9;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            color: #a3a8b0;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 16px;
            transition: border-color 0.2s;
            font-family: inherit;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: #3b83f64b;
        }

        .form-input.error, .form-textarea.error, .form-select.error {
            border-color: #8808088e;
        }

        .error-message {
            color: #8808088e;
            font-size: 14px;
            margin-top: 4px;
            display: block;
        }

        .radio-group {
            display: flex;
            gap: 24px;
            flex-wrap: wrap;
        }

        .radio-label {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .radio-label input {
            width: 18px;
            height: 18px;
            margin-right: 8px;
            cursor: pointer;
        }

        /* File Upload Styles */
        .file-upload-area {
            border: 2px dashed #d1d5db;
            border-radius: 12px;
            padding: 32px;
            text-align: center;
            background: #f9fafb;
            transition: all 0.3s;
            cursor: pointer;
        }

        .file-upload-area:hover {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        .file-upload-area.dragover {
            border-color: #3b82f6;
            background: #dbeafe;
        }

        .file-input {
            display: none;
        }

        .upload-icon {
            font-size: 48px;
            margin-bottom: 12px;
        }

        .upload-text {
            color: #6b7280;
            font-size: 14px;
        }

        .file-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        .preview-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid #e5e7eb;
        }

        .preview-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .remove-file {
            position: absolute;
            top: 4px;
            right: 4px;
            background: #252525;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 16px;
            line-height: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Button Styles */
        .btn {
            width: 100%;
            padding: 14px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(to right, #323131, #323131, #323131);
            color: white;
        }

        .btn-primary:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: #16a34a;
            color: white;
        }

        .btn-secondary:hover {
            background: #15803d;
        }

        .btn-danger {
            background: #890303;
            color: white;
        }

        .btn-danger:hover {
            background: #890303;
            transform: scale(1.02);
        }

        .btn:disabled {
            background: #49494a;
            cursor: not-allowed;
            transform: none;
        }

        /* Info Cards */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .info-card {
            padding: 24px;
            border-radius: 12px;
            border: 2px solid;
        }

        .info-card.red {
            background: linear-gradient(to bottom right, #3a3a3a, #3a3a3a, #3a3a3a);
            border-color: #3a3a3a;
        }

        .info-card.yellow {
            background: linear-gradient(to bottom right, #3a3a3a, #3a3a3a);
            border-color: #3a3a3a;
        }

        .info-card.blue {
            background: linear-gradient(to bottom right, #3a3a3a, #3a3a3a);
            border-color: #3a3a3a;
        }

        .info-card.green {
            background: linear-gradient(to bottom right, #3a3a3a, #3a3a3a);
            border-color: #3a3a3a;
        }

        .info-card.purple {
            background: linear-gradient(to bottom right, #3a3a3a, #3a3a3a);
            border-color: #3a3a3a;
        }

        .info-card h3 {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-card.red h3 { color: #95979d; }
        .info-card.yellow h3 { color: #95979d; }
        .info-card.blue h3 { color: #95979d; }
        .info-card.green h3 { color: #95979d; }
        .info-card.purple h3 { color: #95979d; }

        .info-card p {
            color: #95979d;
            line-height: 1.6;
        }

        /* Feature List */
        .feature-list,
        .feature-item,
        .feature-list li div,
        .feature-list li strong {
         color: #95979d; 
        }

        .feature-item {
            display: flex;
            align-items: start;
            gap: 12px;
            margin-bottom: 16px;
        }

        .feature-check {
            background: #22c55e;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        /* Route Planner Specific */
        .input-with-icon {
            position: relative;
            margin-bottom: 16px;
        }

        .input-icon {
            position: absolute;
            left: 12px;
            top: 14px;
            width: 20px;
            height: 20px;
        }

        .input-with-icon input {
            padding-left: 48px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .stat-card {
            padding: 20px;
            border-radius: 12px;
        }

        .stat-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
        }

        .route-details {
            background: #f9fafb;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .route-label {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 4px;
        }

        .route-text {
            color: #1f2937;
            font-weight: 500;
            margin-bottom: 12px;
        }

        .alert {
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 16px;
            display: none;
        }

        .alert.show {
            display: block;
        }

        .alert.error {
            background: #fef2f2;
            border-left: 4px solid #ef4444;
            color: #991b1b;
        }

        .alert.success {
            background: #f0fdf4;
            border-left: 4px solid #22c55e;
            color: #166534;
        }

        .user-info {
            text-align: center;
            color: #374151;
            padding: 16px;
            background: white;
            border-radius: 12px;
            margin-top: 16px;
        }

        .user-name {
            font-weight: bold;
            color: #1f2937;
            font-size: 18px;
        }

        /* Report Counter */
        .report-counter {
            text-align: center;
            padding: 24px;
            background: linear-gradient(135deg, #8106069f, #8106069f);
            border-radius: 12px;
            color: white;
            margin-bottom: 24px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .counter-label {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .counter-value {
            font-size: 48px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        /* Success Message */
        .success-container {
            display: none;
        }

        .success-container.show {
            display: block;
        }

        .success-card {
            text-align: center;
            padding: 48px 32px;
            background: linear-gradient(to bottom right, #d1fae5, #a7f3d0);
            border-radius: 16px;
            border: 3px solid #6ee7b7;
        }

        .success-icon {
            width: 100px;
            height: 100px;
            background: #22c55e;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            font-size: 50px;
            animation: successPop 0.5s ease-out;
        }

        @keyframes successPop {
            0% { transform: scale(0); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .success-card h2 {
            color: #065f46;
            margin-bottom: 16px;
            font-size: 32px;
        }

        .success-card p {
            color: #047857;
            font-size: 18px;
            margin-bottom: 8px;
        }

        .report-summary {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-top: 24px;
            text-align: left;
        }

        .summary-item {
            padding: 12px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 4px;
        }

        .summary-value {
            color: #6b7280;
        }

        @media (max-width: 768px) {
            .nav-tabs {
                overflow-x: auto;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .header-gradient h1 {
                font-size: 28px;
            }

            .radio-group {
                flex-direction: column;
                gap: 12px;
            }

            .counter-value {
                font-size: 36px;
            }

            .file-preview {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showPage('project')">Project Info</button>
            <button class="nav-tab" onclick="showPage('register')">Registration</button>
            <button class="nav-tab" onclick="showPage('route')">Route Planner</button>
            <button class="nav-tab" onclick="showPage('report')">Report Accident</button>
        </div>

        <!-- Registration Page -->
        <div id="registerPage" class="page">
            <div class="header-gradient">
                <h1>Registration</h1>
                <p>Enter Your Credentials To Use Yatra Saathi</p>
            </div>

            <div class="card">
                <h2 style="margin-bottom: 24px; color: #1f2937;">User Registration</h2>
                
                <div id="registerAlert" class="alert"></div>

                <form id="registrationForm" onsubmit="handleRegistration(event)">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" id="fullName" class="form-input" placeholder="Enter your full name" required="">
                        <span id="fullNameError" class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Age</label>
                        <input type="number" id="age" class="form-input" placeholder="Enter your age (minimum age should be 18)" min="18" max="120" required="">
                        <span id="ageError" class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Gender</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="gender" value="Male" required=""> Male
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="gender" value="Female"> Female
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="gender" value="Other"> Other
                            </label>
                        </div>
                        <span id="genderError" class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" id="email" class="form-input" placeholder="your.email@example.com" required="">
                        <span id="emailError" class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" id="password" class="form-input" placeholder="Minimum 6 characters" minlength="6" required="">
                        <span id="passwordError" class="error-message"></span>
                    </div>

                    <button type="submit" class="btn btn-primary">
                        Continue to Dashboard
                    </button>
                </form>
            </div>
        </div>

        <!-- Project Info Page -->
        <div id="projectPage" class="page active">
            <div class="header-gradient">
                <h1>Yatra Saathi</h1>
                <p>Your Smart Compinion While Travelling</p>
            </div>

            <div class="info-grid">
                <div class="info-card red">
                    <h3>Context</h3>
                    <p>This is a software that detects any traffic violation via AI Cameras and generates reports. More this softwares guides you with best route to go from one place to another. It also shares reports on accident by Manual reports and through AI.</p>
                </div>

                <div class="info-card yellow">
                    <h3>Problem</h3>
                    <p>Manual enforcement is inefficient and limited. There's a need for an AI-based automated system to detect such violations using camera footage or public data and generate structured violation reports.</p>
                </div>
            </div>

            <div class="card info-card blue">
                <h3>Objective</h3>
                <p style="font-size: 16px;">Design an AI-powered violation detection and reporting platform that identifies and logs rule-breaking activities automatically using video/image analysis or open datasets.</p>
            </div>

            <div class="card info-card green">
                <h3>Key Features</h3>
                <ul class="feature-list">
                    <li class="feature-item">
                        <span class="feature-check">‚úì</span>
                        <div>
                            <strong>Real-time Detection:</strong> Automatic identification of traffic violations from video streams
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-check">‚úì</span>
                        <div>
                            <strong>Structured Reports:</strong> Time, location, violation type, confidence score, and evidence images
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-check">‚úì</span>
                        <div>
                            <strong>Geolocation Integration:</strong> Free APIs for location tagging and reverse geocoding
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-check">‚úì</span>
                        <div>
                            <strong>Interactive Dashboard:</strong> Visualization of detected violations with accuracy metrics
                        </div>
                    </li>
                    <li class="feature-item">
                        <span class="feature-check">‚úì</span>
                        <div>
                            <strong>Bellman-Ford Algorithm:</strong> Optimized route analysis for traffic congestion detection
                        </div>
                    </li>
                </ul>
            </div>

            <div class="card info-card purple">
                <h3>Technical Stack</h3>
                <div class="info-grid">
                    <div style="background: #515151; padding: 20px; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #c8c5ce; margin-bottom: 8px;">AI/ML</h4>
                        <p style="font-size: 14px;">YOLO, TensorFlow, OpenCV for object detection and classification</p>
                    </div>
                    <div style="background: #515151; padding: 20px; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #c8c5ce; margin-bottom: 8px;">Algorithms</h4>
                        <p style="font-size: 14px;">Bellman-Ford for shortest path and congestion analysis</p>
                    </div>
                    <div style="background: #515151; padding: 20px; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h4 style="color: #c8c5ce; margin-bottom: 8px;">Backend</h4>
                        <p style="font-size: 14px;">Python/Node.js with SQL database for violation logging</p>
                    </div>
                </div>
            </div>

            <div id="userInfoDisplay" class="user-info" style="display: none;">
                <p>Welcome, <span id="displayName" class="user-name"></span>!</p>
                <p style="color: #6b7280; font-size: 14px; margin-top: 4px;" id="displayEmail"></p>
            </div>
        </div>

        <!-- Route Planner Page -->
        <div id="routePage" class="page">
            <div class="header-gradient">
                <h1>Smart Route Planner</h1>
                <p>Find the shortest and fastest route between any two locations</p>
            </div>

            <div class="card">
                <div id="routeAlert" class="alert"></div>

                <div class="input-with-icon">
                    <svg class="input-icon" style="stroke: #16a34a; fill: none; stroke-width: 2;" viewBox="0 0 24 24">
                        <path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <input type="text" id="origin" class="form-input" placeholder="Enter origin (e.g., Times Square, New York)">
                </div>

                <div class="input-with-icon">
                    <svg class="input-icon" style="stroke: #dc2626; fill: none; stroke-width: 2;" viewBox="0 0 24 24">
                        <path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <input type="text" id="destination" class="form-input" placeholder="Enter destination (e.g., Central Park, New York)">
                </div>

                <button id="calculateBtn" class="btn btn-primary" onclick="calculateRoute()">
                    Find Best Route
                </button>
            </div>

            <div id="routeResults" class="card" style="display: none;">
                <div class="stats-grid">
                    <div class="stat-card info-card blue" style="border: none;">
                        <div class="stat-header" style="color: #1e40af;">
                            Distance
                        </div>
                        <p class="stat-value" style="color: #1e3a8a;" id="distance">0 km</p>
                    </div>

                    <div class="stat-card info-card purple" style="border: none;">
                        <div class="stat-header" style="color: #6b21a8;">
                            Duration
                        </div>
                        <p class="stat-value" style="color: #581c87;" id="duration">0 min</p>
                    </div>
                </div>

                <div class="route-details">
                    <h3 style="color: #1f2937; margin-bottom: 12px;">üìç Route Details</h3>
                    
                    <p class="route-label">From:</p>
                    <p class="route-text" id="routeOrigin"></p>
                    
                    <p class="route-label">To:</p>
                    <p class="route-text" id="routeDestination"></p>
                </div>

                <a id="mapLink" href="file:///D:/Idea%20Lab/Yatra%20Saathi.html#" target="_blank" rel="noopener noreferrer" class="btn btn-secondary">
                    üåç View on Map
                </a>
            </div>
        </div>

        <!-- Report Accident Page -->
        <div id="reportPage" class="page">
            <div class="header-gradient">
                <h1>Report Accident</h1>
                <p>Help make our roads safer by reporting accidents</p>
            </div>

            <div class="report-counter">
                <p class="counter-label">Total Reports Submitted</p>
                <p class="counter-value" id="reportCount">0</p>
            </div>

            <!-- Report Form Container -->
            <div id="reportFormContainer" class="card">
                <h2 style="margin-bottom: 24px; color: #1f2937;">Accident Report Form</h2>
                
                <div id="reportAlert" class="alert"></div>

                <form id="accidentForm" onsubmit="handleAccidentReport(event)">
                    <div class="form-group">
                        <label class="form-label">Location of Accident</label>
                        <input type="text" id="accidentLocation" class="form-input" placeholder="Enter the accident location" required="">
                        <span id="locationError" class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Date &amp; Time</label>
                        <input type="datetime-local" id="accidentDateTime" class="form-input" required="">
                        <span id="dateTimeError" class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Accident Type</label>
                        <select id="accidentType" class="form-select" required="">
                            <option value="">Select accident type</option>
                            <option value="vehicle-collision">Vehicle Collision</option>
                            <option value="pedestrian">Pedestrian Accident</option>
                            <option value="motorcycle">Motorcycle Accident</option>
                            <option value="hit-and-run">Hit and Run</option>
                            <option value="signal-violation">Signal Violation</option>
                            <option value="helmetless-riding">Helmetless Riding</option>
                            <option value="wrong-side-driving">Wrong Side Driving</option>
                            <option value="other">Other</option>
                        </select>
                        <span id="typeError" class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Severity Level</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="severity" value="minor" required=""> Minor
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="severity" value="moderate"> Moderate
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="severity" value="severe"> Severe
                            </label>
                        </div>
                        <span id="severityError" class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Number of Vehicles Involved</label>
                        <input type="number" id="vehicleCount" class="form-input" placeholder="Enter number of vehicles" min="1" max="10" required="">
                        <span id="vehicleError" class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea id="description" class="form-textarea" placeholder="Provide detailed description of the accident..." required=""></textarea>
                        <span id="descriptionError" class="error-message"></span>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Upload Photos (Optional)</label>
                        <div class="file-upload-area" id="fileUploadArea" onclick="document.getElementById('photoInput').click()">
                            <div class="upload-icon">üì∏</div>
                            <p class="upload-text"><strong>Click to upload</strong> or drag and drop</p>
                            <p class="upload-text" style="margin-top: 4px;">PNG, JPG up to 5MB each</p>
                        </div>
                        <input type="file" id="photoInput" class="file-input" accept="image/*" multiple="" onchange="handleFileSelect(event)">
                        <div id="filePreview" class="file-preview"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Your Contact Number (Optional)</label>
                        <input type="tel" id="contactNumber" class="form-input" placeholder="Enter your contact number">
                    </div>

                    <button type="submit" class="btn btn-danger">
                        Submit Accident Report
                    </button>
                </form>
            </div>

            <!-- Success Message Container -->
            <div id="successContainer" class="success-container">
                <div class="card success-card">
                    <div class="success-icon">‚úì</div>
                    <h2>Thank You!</h2>
                    <p>Your report has been successfully submitted.</p>
                    <p style="margin-top: 8px;">We appreciate your contribution to road safety.</p>
                    
                    <div class="report-summary">
                        <h3 style="color: #1f2937; margin-bottom: 16px; text-align: center;">Report Summary</h3>
                        <div class="summary-item">
                            <div class="summary-label">Report ID:</div>
                            <div class="summary-value" id="summaryReportId">-</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Location:</div>
                            <div class="summary-value" id="summaryLocation">-</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Date &amp; Time:</div>
                            <div class="summary-value" id="summaryDateTime">-</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Accident Type:</div>
                            <div class="summary-value" id="summaryType">-</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Severity:</div>
                            <div class="summary-value" id="summarySeverity">-</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Photos Uploaded:</div>
                            <div class="summary-value" id="summaryPhotos">-</div>
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="resetReportForm()" style="margin-top: 24px;">
                        Report Another Accident
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let userData = null;
        let reportCounter = 0;
        let uploadedFiles = [];

        // Initialize on page load
        window.onload = function() {
            const savedCount = parseInt(localStorage.getItem('reportCount')) || 0;
            reportCounter = savedCount;
            document.getElementById('reportCount').textContent = reportCounter;
            
            // Setup drag and drop
            setupDragAndDrop();
        };

        // Setup drag and drop functionality
        function setupDragAndDrop() {
            const dropArea = document.getElementById('fileUploadArea');
            
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            ['dragenter', 'dragover'].forEach(eventName => {
                dropArea.addEventListener(eventName, () => {
                    dropArea.classList.add('dragover');
                }, false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, () => {
                    dropArea.classList.remove('dragover');
                }, false);
            });

            dropArea.addEventListener('drop', function(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                handleFiles(files);
            }, false);
        }

        // Handle file selection
        function handleFileSelect(event) {
            const files = event.target.files;
            handleFiles(files);
        }

        // Handle files
        function handleFiles(files) {
            [...files].forEach(file => {
                if (file.type.startsWith('image/') && file.size <= 5 * 1024 * 1024) {
                    uploadedFiles.push(file);
                    previewFile(file);
                } else {
                    showAlert('reportAlert', 'Please upload images under 5MB', 'error');
                }
            });
        }

        // Preview uploaded file
        function previewFile(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('filePreview');
                const previewItem = document.createElement('div');
                previewItem.className = 'preview-item';
                
                const img = document.createElement('img');
                img.src = e.target.result;
                img.className = 'preview-image';
                
                const removeBtn = document.createElement('button');
                removeBtn.className = 'remove-file';
                removeBtn.innerHTML = '√ó';
                removeBtn.onclick = function(event) {
                    event.stopPropagation();
                    removeFile(file, previewItem);
                };
                
                previewItem.appendChild(img);
                previewItem.appendChild(removeBtn);
                preview.appendChild(previewItem);
            };
            reader.readAsDataURL(file);
        }

        // Remove file
        function removeFile(file, previewItem) {
            uploadedFiles = uploadedFiles.filter(f => f !== file);
            previewItem.remove();
        }

        // Page navigation
        function showPage(pageName) {
            const pages = document.querySelectorAll('.page');
            const tabs = document.querySelectorAll('.nav-tab');
            
            pages.forEach(page => page.classList.remove('active'));
            tabs.forEach(tab => tab.classList.remove('active'));
            
            document.getElementById(pageName + 'Page').classList.add('active');
            event.target.classList.add('active');
        }

        // Registration handling
        function handleRegistration(event) {
            event.preventDefault();
            
            const fullName = document.getElementById('fullName').value.trim();
            const age = parseInt(document.getElementById('age').value);
            const gender = document.querySelector('input[name="gender"]:checked')?.value;
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;

            // Validation
            let isValid = true;
            
            if (fullName.length < 2) {
                showError('fullName', 'Please enter a valid name');
                isValid = false;
            }

            if (age < 18 || age > 120) {
                showError('age', 'Age must be between 18 and 120');
                isValid = false;
            }

            if (!gender) {
                showError('gender', 'Please select a gender');
                isValid = false;
            }

            if (!email.includes('@')) {
                showError('email', 'Please enter a valid email');
                isValid = false;
            }

            if (password.length < 6) {
                showError('password', 'Password must be at least 6 characters');
                isValid = false;
            }

            if (isValid) {
                userData = { fullName, age, gender, email };
                
                showAlert('registerAlert', 'Registration successful! Redirecting...', 'success');
                
                setTimeout(() => {
                    document.getElementById('displayName').textContent = fullName;
                    document.getElementById('displayEmail').textContent = email;
                    document.getElementById('userInfoDisplay').style.display = 'block';
                    
                    // Navigate to project page
                    const pages = document.querySelectorAll('.page');
                    const tabs = document.querySelectorAll('.nav-tab');
                    
                    pages.forEach(page => page.classList.remove('active'));
                    tabs.forEach(tab => tab.classList.remove('active'));
                    
                    document.getElementById('projectPage').classList.add('active');
                    document.querySelectorAll('.nav-tab')[1].classList.add('active');
                }, 1500);
            }
        }

        function showError(fieldId, message) {
            const errorElement = document.getElementById(fieldId + 'Error');
            const inputElement = document.getElementById(fieldId);
            
            if (errorElement && inputElement) {
                errorElement.textContent = message;
                inputElement.classList.add('error');
                
                setTimeout(() => {
                    errorElement.textContent = '';
                    inputElement.classList.remove('error');
                }, 3000);
            }
        }

        function showAlert(alertId, message, type) {
            const alert = document.getElementById(alertId);
            if (alert) {
                alert.textContent = message;
                alert.className = `alert ${type} show`;
                
                setTimeout(() => {
                    alert.classList.remove('show');
                }, 3000);
            }
        }

        // Route calculation
        async function calculateRoute() {
            const origin = document.getElementById('origin').value.trim();
            const destination = document.getElementById('destination').value.trim();

            if (!origin || !destination) {
            showAlert('routeAlert', 'Please enter both origin and destination', 'error');
            return;
            }

            const btn = document.getElementById('calculateBtn');
            btn.disabled = true;
            btn.innerHTML = '‚è≥ Calculating...';

            try {
                // Step 1: Geocode origin
                const geoOrigin = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(origin)}`).then(r=>r.json());
                const geoDest = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(destination)}`).then(r=>r.json());
                if(!geoOrigin[0] || !geoDest[0]) throw new Error('Invalid location');
                const originLat=parseFloat(geoOrigin[0].lat), originLng=parseFloat(geoOrigin[0].lon);
                const destLat=parseFloat(geoDest[0].lat), destLng=parseFloat(geoDest[0].lon);

                const apiKey = 'eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6IjZhZjU1Y2FmOTM0MDQ0MjU4MWM4YjNlZGQwMjUyY2UzIiwiaCI6Im11cm11cjY0In0=';
                const routeRes = await fetch('https://api.openrouteservice.org/v2/directions/driving-car', {
                    method:'POST', headers:{'Content-Type':'application/json','Authorization':apiKey},
                    body:JSON.stringify({coordinates:[[originLng,originLat],[destLng,destLat]]})
                });
                const routeData = await routeRes.json();
                const distance=(routeData.features[0].properties.segments[0].distance/1000).toFixed(1);
                const duration=Math.round(routeData.features[0].properties.segments[0].duration/60);
                document.getElementById('distance').textContent=distance+' km';
                document.getElementById('duration').textContent=duration+' min';
                document.getElementById('routeOrigin').textContent=origin;
                document.getElementById('routeDestination').textContent=destination;
                document.getElementById('mapLink').href=`https://www.openstreetmap.org/directions?engine=fossgis_osrm_car&route=${originLat},${originLng};${destLat},${destLng}`;
                document.getElementById('routeResults').style.display='block';
            }catch(err){
                alert(err.message);
            }finally{
                btn.disabled=false; btn.textContent='‚ö° Find Best Route';
            }
        }

        

        // Handle accident report submission
        function handleAccidentReport(event) {
            event.preventDefault();
            
            const location = document.getElementById('accidentLocation').value.trim();
            const dateTime = document.getElementById('accidentDateTime').value;
            const type = document.getElementById('accidentType').value;
            const severity = document.querySelector('input[name="severity"]:checked')?.value;
            const vehicleCount = document.getElementById('vehicleCount').value;
            const description = document.getElementById('description').value.trim();
            const contact = document.getElementById('contactNumber').value.trim();

            // Validation
            let isValid = true;

            if (!location) {
                showError('location', 'Please enter accident location');
                isValid = false;
            }

            if (!dateTime) {
                showError('dateTime', 'Please select date and time');
                isValid = false;
            }

            if (!type) {
                showError('type', 'Please select accident type');
                isValid = false;
            }

            if (!severity) {
                showError('severity', 'Please select severity level');
                isValid = false;
            }

            if (!vehicleCount || vehicleCount < 1) {
                showError('vehicle', 'Please enter valid number of vehicles');
                isValid = false;
            }

            if (!description) {
                showError('description', 'Please provide description');
                isValid = false;
            }

            if (isValid) {
                // Generate report ID
                const reportId = 'ACC-' + Date.now().toString().slice(-8);
                
                // Format date time
                const dateObj = new Date(dateTime);
                const formattedDateTime = dateObj.toLocaleString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });

                // Format type
                const typeFormatted = type.split('-').map(word => 
                    word.charAt(0).toUpperCase() + word.slice(1)
                ).join(' ');

                // Update counter
                reportCounter++;
                localStorage.setItem('reportCount', reportCounter.toString());
                document.getElementById('reportCount').textContent = reportCounter;

                // Update summary
                document.getElementById('summaryReportId').textContent = reportId;
                document.getElementById('summaryLocation').textContent = location;
                document.getElementById('summaryDateTime').textContent = formattedDateTime;
                document.getElementById('summaryType').textContent = typeFormatted;
                document.getElementById('summarySeverity').textContent = severity.charAt(0).toUpperCase() + severity.slice(1);
                document.getElementById('summaryPhotos').textContent = uploadedFiles.length + ' photo(s)';

                // Hide form and show success message
                document.getElementById('reportFormContainer').style.display = 'none';
                document.getElementById('successContainer').classList.add('show');

                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Reset report form
        function resetReportForm() {
            // Reset form
            document.getElementById('accidentForm').reset();
            
            // Clear uploaded files
            uploadedFiles = [];
            document.getElementById('filePreview').innerHTML = '';
            
            // Hide success message and show form
            document.getElementById('successContainer').classList.remove('show');
            document.getElementById('reportFormContainer').style.display = 'block';

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        
        function showPage(page) {
            document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
            document.querySelectorAll(".nav-tab").forEach(t => t.classList.remove("active"));
    
            document.getElementById(page + "Page").classList.add("active");
            event.target.classList.add("active");
        }

        
        function calculateRoute() {
            const origin = document.getElementById("origin").value.trim();
            const destination = document.getElementById("destination").value.trim();
            const alertBox = document.getElementById("routeAlert");

            if (!origin || !destination) {
                alertBox.className = "alert show error";
                alertBox.innerText = "Please enter both origin and destination.";
                return;
            }

            alertBox.className = "alert show success";
            alertBox.innerText = "Opening Google Maps with best live route...";

            const mapsUrl = `https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(origin)}&destination=${encodeURIComponent(destination)}&travelmode=driving`;

            window.open(mapsUrl, "_blank");
        }
        


    </script>

</body></html>